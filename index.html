<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>å…è´¹å…¬å…±APIèšåˆå·¥å…·</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f9f9f9; }
    header { background: #222; color: white; padding: 1em; text-align: center; }
    nav { background: #eee; padding: 0.8em; text-align: center; }
    nav button { margin: 0 0.3em; padding: 0.5em 1em; border: none; background: #222; color: white; cursor: pointer; border-radius: 3px; }
    nav button:hover { background: #444; }
    .section { display: none; padding: 1em 2em; }
    .section.active { display: block; }
    .api-box { background: white; padding: 1em; margin: 1em 0; border-radius: 6px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    input[type="text"], input[type="number"] { width: 80%; padding: 0.5em; margin-top: 0.5em; border: 1px solid #ccc; border-radius: 4px; }
    button.action-btn { margin-top: 0.5em; padding: 0.5em 1em; background: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer; }
    button.action-btn:hover { background: #218838; }
    img { max-width: 100%; border-radius: 6px; margin-top: 1em; }
    pre { background: #eee; padding: 1em; border-radius: 4px; overflow-x: auto; }
  </style>
</head>
<body>
  <header>
    <h1>ğŸ¯ å…è´¹å…¬å…± API èšåˆå·¥å…·</h1>
    <p>é€‰æ‹©ä¸‹é¢åˆ†ç±»ä½¿ç”¨ä¸åŒçš„å…è´¹API</p>
  </header>

  <nav>
    <button onclick="switchSection('knowledge')">ğŸ“š çŸ¥è¯†ç™¾ç§‘</button>
    <button onclick="switchSection('books')">ğŸ“– ä¹¦ç±æŸ¥è¯¢</button>
    <button onclick="switchSection('weather')">ğŸŒ¤ å¤©æ°”æŸ¥è¯¢</button>
    <button onclick="switchSection('location')">ğŸ“ IPå®šä½</button>
    <button onclick="switchSection('tv')">ğŸ“º å½±è§†æŸ¥è¯¢</button>
    <button onclick="switchSection('fun')">ğŸ‰ è¶£å‘³æ´»åŠ¨</button>
    <button onclick="switchSection('joke')">ğŸ˜‚ ç¬‘è¯</button>
    <button onclick="switchSection('image')">ğŸ–¼ï¸ éšæœºå›¾ç‰‡</button>
    <button onclick="switchSection('number')">ğŸ”¢ æ•°å­—è¶£å‘³</button>
  </nav>

  <!-- çŸ¥è¯†ç™¾ç§‘ -->
  <section id="knowledge" class="section active">
    <div class="api-box">
      <h3>Wikipedia æœç´¢</h3>
      <p>æœç´¢ Wikipedia æ–‡ç« æ‘˜è¦</p>
      <input type="text" id="wikiInput" placeholder="è¾“å…¥å…³é”®è¯..." />
      <button class="action-btn" onclick="searchWikipedia()">æœç´¢</button>
      <div id="wikiResult"></div>
    </div>
  </section>

  <!-- ä¹¦ç±æŸ¥è¯¢ -->
  <section id="books" class="section">
    <div class="api-box">
      <h3>OpenLibrary ä¹¦ç±æœç´¢</h3>
      <p>é€šè¿‡ä¹¦åæœç´¢å›¾ä¹¦ä¿¡æ¯</p>
      <input type="text" id="bookInput" placeholder="è¾“å…¥ä¹¦å..." />
      <button class="action-btn" onclick="searchBooks()">æœç´¢</button>
      <div id="bookResult"></div>
    </div>
  </section>

  <!-- å¤©æ°”æŸ¥è¯¢ -->
  <section id="weather" class="section">
    <div class="api-box">
      <h3>Open-Meteo å¤©æ°”æŸ¥è¯¢</h3>
      <p>è¾“å…¥ç»çº¬åº¦æŸ¥è¯¢å½“å‰å¤©æ°”ï¼ˆç¤ºä¾‹ï¼šçº¬åº¦30ï¼Œç»åº¦120ï¼‰</p>
      <input type="number" id="latInput" step="0.01" placeholder="çº¬åº¦" />
      <input type="number" id="lonInput" step="0.01" placeholder="ç»åº¦" />
      <button class="action-btn" onclick="getWeather()">æŸ¥è¯¢å¤©æ°”</button>
      <div id="weatherResult"></div>
    </div>
  </section>

  <!-- IPå®šä½ -->
  <section id="location" class="section">
    <div class="api-box">
      <h3>ipwho.is IPå®šä½</h3>
      <p>è·å–å½“å‰IPåœ°ç†ä½ç½®</p>
      <button class="action-btn" onclick="getLocation()">è·å–ä½ç½®</button>
      <div id="locationResult"></div>
    </div>
  </section>

  <!-- å½±è§†æŸ¥è¯¢ -->
  <section id="tv" class="section">
    <div class="api-box">
      <h3>TVMaze å½±è§†æœç´¢</h3>
      <p>è¾“å…¥ç”µè§†å‰§åç§°è·å–ç®€ä»‹</p>
      <input type="text" id="tvInput" placeholder="è¾“å…¥ç”µè§†å‰§å..." />
      <button class="action-btn" onclick="searchTVMaze()">æœç´¢</button>
      <div id="tvResult"></div>
    </div>
  </section>

  <!-- è¶£å‘³æ´»åŠ¨ -->
  <section id="fun" class="section">
    <div class="api-box">
      <h3>Bored API è¶£å‘³æ´»åŠ¨</h3>
      <p>è·å–æ— èŠæ—¶çš„æ´»åŠ¨å»ºè®®</p>
      <button class="action-btn" onclick="getActivity()">è·å–æ´»åŠ¨</button>
      <div id="activityResult"></div>
    </div>
  </section>

  <!-- ç¬‘è¯ -->
  <section id="joke" class="section">
    <div class="api-box">
      <h3>JokeAPI ç¬‘è¯</h3>
      <p>è·å–éšæœºç¬‘è¯ï¼ˆè‹±æ–‡ï¼‰</p>
      <button class="action-btn" onclick="getJoke()">è·å–ç¬‘è¯</button>
      <div id="jokeResult"></div>
    </div>
  </section>

  <!-- éšæœºå›¾ç‰‡ -->
  <section id="image" class="section">
    <div class="api-box">
      <h3>Picsum éšæœºå›¾ç‰‡</h3>
      <p>è·å–ä¸€å¼ éšæœºå›¾ç‰‡</p>
      <button class="action-btn" onclick="getRandomImage()">è·å–å›¾ç‰‡</button>
      <img id="randomImage" alt="éšæœºå›¾ç‰‡" />
    </div>
  </section>

  <!-- æ•°å­—è¶£å‘³ -->
  <section id="number" class="section">
    <div class="api-box">
      <h3>NumbersAPI æ•°å­—è¶£å‘³</h3>
      <p>è¾“å…¥æ•°å­—è·å–è¶£å‘³äº‹å®</p>
      <input type="number" id="numberInput" placeholder="è¾“å…¥æ•°å­—" />
      <button class="action-btn" onclick="getNumberFact()">æŸ¥è¯¢æ•°å­—è¶£å‘³</button>
      <div id="numberResult"></div>
    </div>
  </section>

  <script>
    function switchSection(id) {
      document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      clearResults();
    }

    function clearResults() {
      // æ¸…ç©ºæ‰€æœ‰ç»“æœåŒºåŸŸï¼Œé¿å…åˆ‡æ¢é¡µé¢çœ‹è§æ—§ç»“æœ
      ['wikiResult', 'bookResult', 'weatherResult', 'locationResult', 'tvResult', 'activityResult', 'jokeResult', 'randomImage', 'numberResult'].forEach(id => {
        const el = document.getElementById(id);
        if (!el) return;
        if (el.tagName === 'IMG') el.src = '';
        else el.innerHTML = '';
      });
    }

    async function searchWikipedia() {
      const query = document.getElementById('wikiInput').value.trim();
      if (!query) return alert('è¯·è¾“å…¥å…³é”®è¯');
      const url = `https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(query)}`;
      try {
        const res = await fetch(url);
        if (!res.ok) throw new Error('è¯·æ±‚å¤±è´¥');
        const data = await res.json();
        document.getElementById('wikiResult').innerHTML = data.extract ? `<p>${data.extract}</p>` : '<p>æœªæ‰¾åˆ°å†…å®¹</p>';
      } catch (e) {
        document.getElementById('wikiResult').innerText = 'è¯·æ±‚å¤±è´¥';
      }
    }

    async function searchBooks() {
      const query = document.getElementById('bookInput').value.trim();
      if (!query) return alert('è¯·è¾“å…¥ä¹¦å');
      const url = `https://openlibrary.org/search.json?q=${encodeURIComponent(query)}`;
      try {
        const res = await fetch(url);
        if (!res.ok) throw new Error('è¯·æ±‚å¤±è´¥');
        const data = await res.json();
        if (data.docs && data.docs.length > 0) {
          const book = data.docs[0];
          const html = `
            <h4>${book.title} (${book.first_publish_year || 'æœªçŸ¥å¹´ä»½'})</h4>
            <p>ä½œè€…: ${book.author_name ? book.author_name.join(', ') : 'æœªçŸ¥'}</p>
            <p>å‡ºç‰ˆç¤¾: ${book.publisher ? book.publisher[0] : 'æœªçŸ¥'}</p>
            <p>ISBN: ${book.isbn ? book.isbn[0] : 'æ— '}</p>
          `;
          document.getElementById('bookResult').innerHTML = html;
        } else {
          document.getElementById('bookResult').innerText = 'æœªæ‰¾åˆ°ä¹¦ç±';
        }
      } catch (e) {
        document.getElementById('bookResult').innerText = 'è¯·æ±‚å¤±è´¥';
      }
    }

    async function getWeather() {
      const lat = document.getElementById('latInput').value.trim();
      const lon = document.getElementById('lonInput').value.trim();
      if (!lat || !lon) return alert('è¯·è¾“å…¥çº¬åº¦å’Œç»åº¦');
      const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`;
      try {
        const res = await fetch(url);
        if (!res.ok) throw new Error('è¯·æ±‚å¤±è´¥');
        const data = await res.json();
        if (data.current_weather) {
          const weather = data.current_weather;
          document.getElementById('weatherResult').innerHTML = `
            <p>æ¸©åº¦: ${weather.temperature} Â°C</p>
            <p>é£é€Ÿ: ${weather.windspeed} km/h</p>
            <p>é£å‘: ${weather.winddirection}Â°</p>
            <p>æ—¶é—´: ${weather.time}</p>
            `;
          } else {
            document.getElementById('weatherResult').innerText = 'æœªè·å–åˆ°å¤©æ°”ä¿¡æ¯';
          }
        } catch (e) {
          document.getElementById('weatherResult').innerText = 'è¯·æ±‚å¤±è´¥';
        }
      }

    async function getLocation() {
      const url = 'https://ipwho.is/';
      try {
        const res = await fetch(url);
        if (!res.ok) throw new Error('è¯·æ±‚å¤±è´¥');
        const data = await res.json();
        if (data.success) {
          document.getElementById('locationResult').innerHTML = `
            <p>IP: ${data.ip}</p>
            <p>å›½å®¶: ${data.country} (${data.country_code})</p>
            <p>åŸå¸‚: ${data.city}</p>
            <p>æ—¶åŒº: ${data.timezone.id}</p>
            <p>ç»åº¦: ${data.longitude}</p>
            <p>çº¬åº¦: ${data.latitude}</p>
          `;
        } else {
          document.getElementById('locationResult').innerText = 'æ— æ³•è·å–å®šä½ä¿¡æ¯';
        }
      } catch (e) {
        document.getElementById('locationResult').innerText = 'è¯·æ±‚å¤±è´¥';
      }
    }

    async function searchTVMaze() {
      const query = document.getElementById('tvInput').value.trim();
      if (!query) return alert('è¯·è¾“å…¥ç”µè§†å‰§å');
      const url = `https://api.tvmaze.com/search/shows?q=${encodeURIComponent(query)}`;
      try {
        const res = await fetch(url);
        if (!res.ok) throw new Error('è¯·æ±‚å¤±è´¥');
        const data = await res.json();
        if (data.length > 0) {
          const show = data[0].show;
          document.getElementById('tvResult').innerHTML = `
            <h4>${show.name} (${show.premiered ? show.premiered.substring(0,4) : 'æœªçŸ¥'})</h4>
            <p>${show.summary ? show.summary.replace(/<[^>]+>/g, '') : 'æ— ç®€ä»‹'}</p>
            <p>çŠ¶æ€: ${show.status}</p>
            <p>ç±»å‹: ${show.type}</p>
            <a href="${show.officialSite || show.url}" target="_blank">å®˜ç½‘/è¯¦æƒ…</a>
          `;
        } else {
          document.getElementById('tvResult').innerText = 'æœªæ‰¾åˆ°ç›¸å…³èŠ‚ç›®';
        }
      } catch (e) {
        document.getElementById('tvResult').innerText = 'è¯·æ±‚å¤±è´¥';
      }
    }

    async function getActivity() {
      const url = 'https://www.boredapi.com/api/activity';
      try {
        const res = await fetch(url);
        if (!res.ok) throw new Error('è¯·æ±‚å¤±è´¥');
        const data = await res.json();
        document.getElementById('activityResult').innerHTML = `
          <p>æ´»åŠ¨: ${data.activity}</p>
          <p>ç±»å‹: ${data.type}</p>
          <p>äººæ•°: ${data.participants}</p>
          <p>ä»·æ ¼: ${data.price}</p>
        `;
      } catch (e) {
        document.getElementById('activityResult').innerText = 'è¯·æ±‚å¤±è´¥';
      }
    }

    async function getJoke() {
      const url = 'https://v2.jokeapi.dev/joke/Any?type=single';
      try {
        const res = await fetch(url);
        if (!res.ok) throw new Error('è¯·æ±‚å¤±è´¥');
        const data = await res.json();
        document.getElementById('jokeResult').innerText = data.joke || 'æ— ç¬‘è¯å†…å®¹';
      } catch (e) {
        document.getElementById('jokeResult').innerText = 'è¯·æ±‚å¤±è´¥';
      }
    }

    function getRandomImage() {
      // ä½¿ç”¨ Picsum éšæœºå›¾ç‰‡ï¼Œå°ºå¯¸å›ºå®š 600x400
      const url = `https://picsum.photos/600/400?random=${Date.now()}`;
      document.getElementById('randomImage').src = url;
    }

    async function getNumberFact() {
      const num = document.getElementById('numberInput').value.trim();
      if (!num) return alert('è¯·è¾“å…¥æ•°å­—');
      const url = `http://numbersapi.com/${num}/trivia`;
      try {
        const res = await fetch(url);
        if (!res.ok) throw new Error('è¯·æ±‚å¤±è´¥');
        const text = await res.text();
        document.getElementById('numberResult').innerText = text;
      } catch (e) {
        document.getElementById('numberResult').innerText = 'è¯·æ±‚å¤±è´¥';
      }
    }
  </script>
</body>
</html>
