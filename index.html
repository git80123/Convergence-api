<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>å…¬å…±APIèšåˆå·¥å…·</title>
<style>
  body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f9f9f9; }
  header { background:#222; color:#fff; padding:1em; text-align:center; }
  nav { background:#eee; padding:0.5em; text-align:center; }
  nav button { margin:0 0.5em; padding:0.5em 1em; cursor:pointer; border:none; background:#222; color:#fff; border-radius:3px; }
  nav button.active { background:#0078d7; }
  section { display:none; padding:1em; max-width:600px; margin:1em auto; background:#fff; border-radius:6px; box-shadow:0 0 8px #ccc; }
  section.active { display:block; }
  .api-box { margin-top:1em; }
  input[type=text] { width:80%; padding:0.5em; margin-right:0.5em; border:1px solid #ccc; border-radius:3px; }
  button.api-btn { padding:0.5em 1em; cursor:pointer; border:none; background:#0078d7; color:#fff; border-radius:3px; }
  pre { background:#f0f0f0; padding:1em; border-radius:3px; overflow-x:auto; max-height:300px; }
</style>
</head>
<body>

<header>
  <h1>å…¬å…±APIèšåˆå·¥å…·</h1>
  <p>å…è´¹ã€æ— éœ€æˆæƒã€å…¬å¼€APIç¤ºä¾‹</p>
</header>

<nav>
  <button class="nav-btn active" data-target="knowledge">ğŸ“š çŸ¥è¯†</button>
  <button class="nav-btn" data-target="entertainment">ğŸ¬ å¨±ä¹</button>
  <button class="nav-btn" data-target="music">ğŸµ éŸ³ä¹</button>
  <button class="nav-btn" data-target="weather">ğŸŒ¦ å¤©æ°”åœ°ç†</button>
  <button class="nav-btn" data-target="image">ğŸ–¼ å›¾ç‰‡</button>
  <button class="nav-btn" data-target="fun">ğŸ‘¨â€ğŸ’» è¶£å‘³</button>
</nav>

<section id="knowledge" class="active">
  <h2>çŸ¥è¯†ç±»</h2>
  <div class="api-box">
    <p>Wikipedia æœç´¢æ‘˜è¦</p>
    <input type="text" id="wikiQuery" placeholder="è¾“å…¥å…³é”®è¯ï¼Œä¾‹å¦‚ï¼šChina" />
    <button class="api-btn" onclick="searchWikipedia()">æœç´¢</button>
    <pre id="wikiResult"></pre>
  </div>
  <div class="api-box">
    <p>Numbers API - è·å–æ•°å­—è¶£é—»</p>
    <input type="text" id="numberQuery" placeholder="è¾“å…¥æ•°å­—ï¼Œä¾‹å¦‚ï¼š42" />
    <button class="api-btn" onclick="searchNumber()">æŸ¥è¯¢</button>
    <pre id="numberResult"></pre>
  </div>
</section>

<section id="entertainment">
  <h2>å¨±ä¹ç±»</h2>
  <div class="api-box">
    <p>OMDb - ç”µå½±ä¿¡æ¯æŸ¥è¯¢</p>
    <input type="text" id="movieQuery" placeholder="è¾“å…¥ç”µå½±åï¼Œä¾‹å¦‚ï¼šInception" />
    <button class="api-btn" onclick="searchOMDb()">æŸ¥è¯¢</button>
    <pre id="movieResult"></pre>
  </div>
  <div class="api-box">
    <p>TMDb - ç”µå½±è¯¦æƒ…æŸ¥è¯¢</p>
    <input type="text" id="tmdbQuery" placeholder="è¾“å…¥ç”µå½±åï¼Œä¾‹å¦‚ï¼šAvatar" />
    <button class="api-btn" onclick="searchTMDb()">æŸ¥è¯¢</button>
    <pre id="tmdbResult"></pre>
  </div>
</section>

<section id="music">
  <h2>éŸ³ä¹ç±»</h2>
  <div class="api-box">
    <p>Lyrics.ovh - æ­Œè¯æŸ¥è¯¢</p>
    <input type="text" id="artistQuery" placeholder="æ­Œæ‰‹åï¼Œä¾‹å¦‚ï¼šAdele" />
    <input type="text" id="songQuery" placeholder="æ­Œæ›²åï¼Œä¾‹å¦‚ï¼šHello" />
    <button class="api-btn" onclick="searchLyrics()">æŸ¥è¯¢æ­Œè¯</button>
    <pre id="lyricsResult"></pre>
  </div>
</section>

<section id="weather">
  <h2>å¤©æ°” / åœ°ç†ç±»</h2>
  <div class="api-box">
    <p>IP-API - è·å–å½“å‰IPåœ°ç†ä½ç½®</p>
    <button class="api-btn" onclick="getIPLocation()">è·å–ä½ç½®</button>
    <pre id="locationResult"></pre>
  </div>
</section>

<section id="image">
  <h2>å›¾ç‰‡ç±»</h2>
  <div class="api-box">
    <p>Picsum - è·å–éšæœºå›¾ç‰‡</p>
    <button class="api-btn" onclick="getRandomImage()">è·å–å›¾ç‰‡</button>
    <div style="margin-top:1em;">
      <img id="randomImg" alt="éšæœºå›¾ç‰‡" style="max-width:100%; border-radius:6px; box-shadow:0 0 5px #ccc" />
    </div>
  </div>
</section>

<section id="fun">
  <h2>è¶£å‘³å·¥å…·ç±»</h2>
  <div class="api-box">
    <p>BoredAPI - è·å–æ´»åŠ¨å»ºè®®</p>
    <button class="api-btn" onclick="getActivity()">è·å–æ´»åŠ¨</button>
    <pre id="activityResult"></pre>
  </div>
  <div class="api-box">
    <p>JokeAPI - è·å–ç¬‘è¯</p>
    <button class="api-btn" onclick="getJoke()">è·å–ç¬‘è¯</button>
    <pre id="jokeResult"></pre>
  </div>
</section>

<script>
  // å¯¼èˆªåˆ‡æ¢
  document.querySelectorAll('.nav-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      const target = btn.getAttribute('data-target');
      document.querySelectorAll('section').forEach(sec => {
        sec.classList.toggle('active', sec.id === target);
      });
    });
  });

  // çŸ¥è¯†ç±»
  async function searchWikipedia() {
    const q = document.getElementById('wikiQuery').value.trim();
    if(!q) return alert('è¯·è¾“å…¥å…³é”®è¯');
    try {
      const res = await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(q)}`);
      const data = await res.json();
      if(data.extract) {
        document.getElementById('wikiResult').textContent = data.extract;
      } else {
        document.getElementById('wikiResult').textContent = 'æœªæ‰¾åˆ°å†…å®¹';
      }
    } catch(e) {
      document.getElementById('wikiResult').textContent = 'è¯·æ±‚å¤±è´¥';
    }
  }

  async function searchNumber() {
    const n = document.getElementById('numberQuery').value.trim();
    if(!n || isNaN(n)) return alert('è¯·è¾“å…¥æœ‰æ•ˆæ•°å­—');
    try {
      const res = await fetch(`http://numbersapi.com/${n}/trivia`);
      const txt = await res.text();
      document.getElementById('numberResult').textContent = txt;
    } catch(e) {
      document.getElementById('numberResult').textContent = 'è¯·æ±‚å¤±è´¥';
    }
  }

  // å¨±ä¹ç±»
  async function searchOMDb() {
    const q = document.getElementById('movieQuery').value.trim();
    if(!q) return alert('è¯·è¾“å…¥ç”µå½±å');
    // OMDb éœ€è¦ keyï¼Œæ”¹ç”¨ TMDb å…è´¹å…¬å¼€APIæ›¿ä»£ï¼Œæç¤ºç”¨æˆ·æ”¹ç”¨ä¸‹é¢åŠŸèƒ½
    document.getElementById('movieResult').textContent = 'OMDb éœ€è¦ API Keyï¼Œå»ºè®®ä½¿ç”¨ TMDb æŸ¥è¯¢';
  }

  async function searchTMDb() {
    const q = document.getElementById('tmdbQuery').value.trim();
    if(!q) return alert('è¯·è¾“å…¥ç”µå½±å');
    // TMDb éœ€è¦ API Keyï¼Œæ— æ³•ç›´æ¥è°ƒç”¨ï¼Œæç¤º
    document.getElementById('tmdbResult').textContent = 'TMDb éœ€è¦ API Keyï¼Œæ— æ³•ç›´æ¥è°ƒç”¨ï¼Œå»ºè®®ç”¨å…¶ä»–å…¬å¼€API';
  }

  // éŸ³ä¹ç±»
  async function searchLyrics() {
    const artist = document.getElementById('artistQuery').value.trim();
    const song = document.getElementById('songQuery').value.trim();
    if(!artist || !song) return alert('è¯·è¾“å…¥æ­Œæ‰‹åå’Œæ­Œæ›²å');
    try {
      const res = await fetch(`https://api.lyrics.ovh/v1/${encodeURIComponent(artist)}/${encodeURIComponent(song)}`);
      const data = await res.json();
      if(data.lyrics) {
        document.getElementById('lyricsResult').textContent = data.lyrics;
      } else {
        document.getElementById('lyricsResult').textContent = 'æœªæ‰¾åˆ°æ­Œè¯';
      }
    } catch(e) {
      document.getElementById('lyricsResult').textContent = 'è¯·æ±‚å¤±è´¥';
    }
  }

  // å¤©æ°”åœ°ç†
  async function getIPLocation() {
    try {
      const res = await fetch('http://ip-api.com/json');
      const data = await res.json();
      if(data.status === 'success') {
        document.getElementById('locationResult').textContent = `ä½ çš„ä½ç½®ï¼š${data.country}, ${data.regionName}, ${data.city}`;
      } else {
        document.getElementById('locationResult').textContent = 'æ— æ³•è·å–ä½ç½®';
      }
    } catch(e) {
      document.getElementById('locationResult').textContent = 'è¯·æ±‚å¤±è´¥';
    }
  }

  // å›¾ç‰‡ç±»
  function getRandomImage() {
    const url = `https://picsum.photos/600?random=${Date.now()}`;
    document.getElementById('randomImg').src = url;
  }

  // è¶£å‘³å·¥å…·
  async function getActivity() {
    try {
      const res = await fetch('https://www.boredapi.com/api/activity');
      const data = await res.json();
      document.getElementById('activityResult').textContent = data.activity || 'æ— æ´»åŠ¨å»ºè®®';
    } catch(e) {
      document.getElementById('activityResult').textContent = 'è¯·æ±‚å¤±è´¥';
    }
  }

  async function getJoke() {
    try {
      const res = await fetch('https://v2.jokeapi.dev/joke/Any');
      const data = await res.json();
      if(data.type === 'single') {
        document.getElementById('jokeResult').textContent = data.joke;
      } else if(data.type === 'twopart') {
        document.getElementById('jokeResult').textContent = `${data.setup}\n${data.delivery}`;
      } else {
        document.getElementById('jokeResult').textContent = 'æœªæ‰¾åˆ°ç¬‘è¯';
      }
    } catch(e) {
      document.getElementById('jokeResult').textContent = 'è¯·æ±‚å¤±è´¥';
    }
  }
</script>

</body>
</html>
